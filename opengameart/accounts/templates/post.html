{% extends 'base.html' %}

{% block pagetitle %}Current Posts{% endblock %}

{% block javascript %}
  <script>
    var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
      onBeforePageLoad: function () {
        $('.loading').show();
      },
      onAfterPageLoad: function ($items) {
        $('.loading').hide();
      }
    });
  </script>
{% endblock %}

{% block content %}
    <div class="infinite-container">
        {% for post in posts %}
            <div class="infinite-item">
                <p>{{ post.user.get_username }}</p>
                <p>{{ post.art.title }}</p>
                <img src="{{ post.art.file }}"/>
            </div>

        {% endfor %}
    </div>
{% endblock %}